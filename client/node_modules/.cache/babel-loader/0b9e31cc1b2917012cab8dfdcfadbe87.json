{"ast":null,"code":"import _slicedToArray from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import ContadoresContext from'../../context/contadores/contadoresContext';var GhostCounter=function GhostCounter(_ref){var sb=_ref.sb;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),counter=_useState2[0],setCounter=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),contador=_useState4[0],setContador=_useState4[1];// Contadores states\nvar contadoresContext=useContext(ContadoresContext);var addContador=contadoresContext.addContador,setThisContador=contadoresContext.setThisContador;// add 1 to the couter\nvar countOne=function countOne(){if(counter<=2){var count=counter+1;setCounter(count);var contadorActualizado={subsector:{_id:sb._id},contador:1,fecha:Date.now()};addContador(contadorActualizado,contador._id);}};var resetCount=function resetCount(){setCounter(0);var contadorActualizado={subsector:{_id:sb._id},contador:-counter,fecha:Date.now()};addContador(contadorActualizado,contador._id);};useEffect(function(){if(sb){setContador(setThisContador(sb._id));// eslint-disable-next-line\n}},[sb,setThisContador]);return/*#__PURE__*/React.createElement(\"div\",{id:\"\",className:\"relative flex pr-3 items-center justify-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\" inline-block flex justify-center items-center rounded w-12 px-3 focus:outline-none ' \\n          \".concat(contador.contador===0&&counter===0?'bg-blue-200 text-gray-500':'bg-blue-500 text-white',\"\\n            \"),onClick:countOne},contador&&/*#__PURE__*/React.createElement(\"h5\",{className:\"\"},contador.contador),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ghost ml-1\"})),counter>0?/*#__PURE__*/React.createElement(\"button\",{className:\"relative inset-y-0 inline-block bg-transparent focus:outline-none flex justify-center items-center text-sm  text-gray-500\",onClick:resetCount},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-undo ml-3 \"})):'');};//\nexport default GhostCounter;","map":{"version":3,"sources":["/Users/eyallevyg/developer/ghost_climber/client/src/components/batches/GhostCounter.js"],"names":["React","useState","useEffect","useContext","ContadoresContext","GhostCounter","sb","counter","setCounter","contador","setContador","contadoresContext","addContador","setThisContador","countOne","count","contadorActualizado","subsector","_id","fecha","Date","now","resetCount"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,iBAAP,KAA8B,4CAA9B,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAY,IAATC,CAAAA,EAAS,MAATA,EAAS,eACDL,QAAQ,CAAC,CAAD,CADP,wCACxBM,OADwB,eACfC,UADe,8BAECP,QAAQ,CAAC,CAAD,CAFT,yCAExBQ,QAFwB,eAEdC,WAFc,eAG/B;AACA,GAAMC,CAAAA,iBAAiB,CAAGR,UAAU,CAACC,iBAAD,CAApC,CAJ+B,GAKvBQ,CAAAA,WALuB,CAKUD,iBALV,CAKvBC,WALuB,CAKVC,eALU,CAKUF,iBALV,CAKVE,eALU,CAO/B;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIP,OAAO,EAAI,CAAf,CAAkB,CAChB,GAAIQ,CAAAA,KAAK,CAAGR,OAAO,CAAG,CAAtB,CACAC,UAAU,CAACO,KAAD,CAAV,CACA,GAAMC,CAAAA,mBAAmB,CAAG,CAC1BC,SAAS,CAAE,CACTC,GAAG,CAAEZ,EAAE,CAACY,GADC,CADe,CAI1BT,QAAQ,CAAE,CAJgB,CAK1BU,KAAK,CAAEC,IAAI,CAACC,GAAL,EALmB,CAA5B,CAQAT,WAAW,CAACI,mBAAD,CAAsBP,QAAQ,CAACS,GAA/B,CAAX,CACD,CACF,CAdD,CAgBA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBd,UAAU,CAAC,CAAD,CAAV,CACA,GAAMQ,CAAAA,mBAAmB,CAAG,CAC1BC,SAAS,CAAE,CACTC,GAAG,CAAEZ,EAAE,CAACY,GADC,CADe,CAI1BT,QAAQ,CAAE,CAACF,OAJe,CAK1BY,KAAK,CAAEC,IAAI,CAACC,GAAL,EALmB,CAA5B,CAQAT,WAAW,CAACI,mBAAD,CAAsBP,QAAQ,CAACS,GAA/B,CAAX,CACD,CAXD,CAaAhB,SAAS,CAAC,UAAM,CACd,GAAII,EAAJ,CAAQ,CACNI,WAAW,CAACG,eAAe,CAACP,EAAE,CAACY,GAAJ,CAAhB,CAAX,CACA;AACD,CACF,CALQ,CAKN,CAACZ,EAAD,CAAKO,eAAL,CALM,CAAT,CAOA,mBACE,2BAAK,EAAE,CAAC,EAAR,CAAW,SAAS,CAAC,gDAArB,eACE,8BACE,SAAS,6GAELJ,QAAQ,CAACA,QAAT,GAAsB,CAAtB,EAA2BF,OAAO,GAAK,CAAvC,CACI,2BADJ,CAEI,wBAJC,kBADX,CAQE,OAAO,CAAEO,QARX,EAUGL,QAAQ,eAAI,0BAAI,SAAS,CAAC,EAAd,EAAkBA,QAAQ,CAACA,QAA3B,CAVf,cAWE,yBAAG,SAAS,CAAC,mBAAb,EAXF,CADF,CAcGF,OAAO,CAAG,CAAV,cACC,8BACE,SAAS,CAAC,2HADZ,CAEE,OAAO,CAAEe,UAFX,eAIE,yBAAG,SAAS,CAAC,mBAAb,EAJF,CADD,CAQC,EAtBJ,CADF,CA2BD,CAvED,CAyEA;AAEA,cAAejB,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport ContadoresContext from '../../context/contadores/contadoresContext';\n\nconst GhostCounter = ({ sb }) => {\n  const [counter, setCounter] = useState(0);\n  const [contador, setContador] = useState(0);\n  // Contadores states\n  const contadoresContext = useContext(ContadoresContext);\n  const { addContador, setThisContador } = contadoresContext;\n\n  // add 1 to the couter\n  const countOne = () => {\n    if (counter <= 2) {\n      let count = counter + 1;\n      setCounter(count);\n      const contadorActualizado = {\n        subsector: {\n          _id: sb._id,\n        },\n        contador: 1,\n        fecha: Date.now(),\n      };\n\n      addContador(contadorActualizado, contador._id);\n    }\n  };\n\n  const resetCount = () => {\n    setCounter(0);\n    const contadorActualizado = {\n      subsector: {\n        _id: sb._id,\n      },\n      contador: -counter,\n      fecha: Date.now(),\n    };\n\n    addContador(contadorActualizado, contador._id);\n  };\n\n  useEffect(() => {\n    if (sb) {\n      setContador(setThisContador(sb._id));\n      // eslint-disable-next-line\n    }\n  }, [sb, setThisContador]);\n\n  return (\n    <div id='' className='relative flex pr-3 items-center justify-center'>\n      <button\n        className={` inline-block flex justify-center items-center rounded w-12 px-3 focus:outline-none ' \n          ${\n            contador.contador === 0 && counter === 0\n              ? 'bg-blue-200 text-gray-500'\n              : 'bg-blue-500 text-white'\n          }\n            `}\n        onClick={countOne}\n      >\n        {contador && <h5 className=''>{contador.contador}</h5>}\n        <i className='fas fa-ghost ml-1'></i>\n      </button>\n      {counter > 0 ? (\n        <button\n          className='relative inset-y-0 inline-block bg-transparent focus:outline-none flex justify-center items-center text-sm  text-gray-500'\n          onClick={resetCount}\n        >\n          <i className='fas fa-undo ml-3 '></i>\n        </button>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\n//\n\nexport default GhostCounter;\n"]},"metadata":{},"sourceType":"module"}