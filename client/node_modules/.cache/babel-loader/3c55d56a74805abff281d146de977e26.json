{"ast":null,"code":"import _slicedToArray from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useContext,useEffect}from'react';import SubSectorModal from'../zonas/SubSectorModal';import GhostTotal from'../batches/GhostTotal';import ContadoresContext from'../../context/contadores/contadoresContext';import Spinner from'../layout/Spinner';// Filter funcion for array of cotadores by date and sector\n// const setContador = (contadorArr, fecha, sectorId) => {\n//   const cont = contadorArr.filter((cS) => {\n//     return cS._id.sector === sectorId && sameDay(cS.fecha, fecha);\n//   });\n//   if (cont.length > 0) {\n//     const { contador: res } = cont.find(({ contador }) => contador);\n//     return res;\n//   } else {\n//     return 0;\n//   }\n// };\nvar SectorCard=function SectorCard(_ref){var sector=_ref.sector;var nombre=sector.nombre,subsectores=sector.subsectores;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],_setShowModal=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),contador=_useState4[0],setContador=_useState4[1];// Contadores states\nvar contadoresContext=useContext(ContadoresContext);var contadorSector=contadoresContext.contadorSector,thisFecha=contadoresContext.thisFecha,filtrarContadores=contadoresContext.filtrarContadores,setThisContadorSector=contadoresContext.setThisContadorSector;// const [contador, setContador] = useState(0);\nuseEffect(function(){setContador(setThisContadorSector(sector._id));},[sector,setThisContadorSector]);// if (contadorSector) {\n//   contador = setContador(contadorSector, thisFecha, sector._id);\n// }\nreturn/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_setShowModal(true);filtrarContadores(thisFecha);},className:\"inline-block flex justify-between  items-stretch md:items-center rounded shadow-lg m-3 md:w-64 bg-gray-300 focus:outline-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inline-block p-3  text-2xl\"},nombre),/*#__PURE__*/React.createElement(\"div\",{className:\"flex mr-3\"},!contadorSector?/*#__PURE__*/React.createElement(Spinner,null):/*#__PURE__*/React.createElement(GhostTotal,{contador:contador}))),showModal?/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(SubSectorModal,{setShowModal:function setShowModal(){return _setShowModal();},subsectores:subsectores,sector:nombre})):null);};export default SectorCard;","map":{"version":3,"sources":["/Users/eyallevyg/developer/ghost_climber/client/src/components/zonas/SectorCard.js"],"names":["React","useState","Fragment","useContext","useEffect","SubSectorModal","GhostTotal","ContadoresContext","Spinner","SectorCard","sector","nombre","subsectores","showModal","setShowModal","contador","setContador","contadoresContext","contadorSector","thisFecha","filtrarContadores","setThisContadorSector","_id"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,UAApC,CAAgDC,SAAhD,KAAiE,OAAjE,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,4CAA9B,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,IACzBC,CAAAA,MADyB,CACDD,MADC,CACzBC,MADyB,CACjBC,WADiB,CACDF,MADC,CACjBE,WADiB,eAECX,QAAQ,CAAC,KAAD,CAFT,wCAE1BY,SAF0B,eAEfC,aAFe,8BAGDb,QAAQ,CAAC,IAAD,CAHP,yCAG1Bc,QAH0B,eAGhBC,WAHgB,eAKjC;AACA,GAAMC,CAAAA,iBAAiB,CAAGd,UAAU,CAACI,iBAAD,CAApC,CANiC,GAQ/BW,CAAAA,cAR+B,CAY7BD,iBAZ6B,CAQ/BC,cAR+B,CAS/BC,SAT+B,CAY7BF,iBAZ6B,CAS/BE,SAT+B,CAU/BC,iBAV+B,CAY7BH,iBAZ6B,CAU/BG,iBAV+B,CAW/BC,qBAX+B,CAY7BJ,iBAZ6B,CAW/BI,qBAX+B,CAcjC;AAEAjB,SAAS,CAAC,UAAM,CACdY,WAAW,CAACK,qBAAqB,CAACX,MAAM,CAACY,GAAR,CAAtB,CAAX,CACD,CAFQ,CAEN,CAACZ,MAAD,CAASW,qBAAT,CAFM,CAAT,CAIA;AACA;AACA;AAEA,mBACE,oBAAC,QAAD,mBACE,8BACE,OAAO,CAAE,kBAAM,CACbP,aAAY,CAAC,IAAD,CAAZ,CACAM,iBAAiB,CAACD,SAAD,CAAjB,CACD,CAJH,CAKE,SAAS,CAAC,+HALZ,eAOE,2BAAK,SAAS,CAAC,4BAAf,EAA6CR,MAA7C,CAPF,cAQE,2BAAK,SAAS,CAAC,WAAf,EACG,CAACO,cAAD,cAAkB,oBAAC,OAAD,MAAlB,cAAgC,oBAAC,UAAD,EAAY,QAAQ,CAAEH,QAAtB,EADnC,CARF,CADF,CAaGF,SAAS,cACR,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,cAAD,EACE,YAAY,CAAE,8BAAMC,CAAAA,aAAY,EAAlB,EADhB,CAEE,WAAW,CAAEF,WAFf,CAGE,MAAM,CAAED,MAHV,EADF,CADQ,CAQN,IArBN,CADF,CAyBD,CAjDD,CAmDA,cAAeF,CAAAA,UAAf","sourcesContent":["import React, { useState, Fragment, useContext, useEffect } from 'react';\nimport SubSectorModal from '../zonas/SubSectorModal';\nimport GhostTotal from '../batches/GhostTotal';\nimport ContadoresContext from '../../context/contadores/contadoresContext';\nimport Spinner from '../layout/Spinner';\n\n// Filter funcion for array of cotadores by date and sector\n// const setContador = (contadorArr, fecha, sectorId) => {\n//   const cont = contadorArr.filter((cS) => {\n//     return cS._id.sector === sectorId && sameDay(cS.fecha, fecha);\n//   });\n//   if (cont.length > 0) {\n//     const { contador: res } = cont.find(({ contador }) => contador);\n//     return res;\n//   } else {\n//     return 0;\n//   }\n// };\n\nconst SectorCard = ({ sector }) => {\n  const { nombre, subsectores } = sector;\n  const [showModal, setShowModal] = useState(false);\n  const [contador, setContador] = useState(null);\n\n  // Contadores states\n  const contadoresContext = useContext(ContadoresContext);\n  const {\n    contadorSector,\n    thisFecha,\n    filtrarContadores,\n    setThisContadorSector,\n  } = contadoresContext;\n\n  // const [contador, setContador] = useState(0);\n\n  useEffect(() => {\n    setContador(setThisContadorSector(sector._id));\n  }, [sector, setThisContadorSector]);\n\n  // if (contadorSector) {\n  //   contador = setContador(contadorSector, thisFecha, sector._id);\n  // }\n\n  return (\n    <Fragment>\n      <button\n        onClick={() => {\n          setShowModal(true);\n          filtrarContadores(thisFecha);\n        }}\n        className='inline-block flex justify-between  items-stretch md:items-center rounded shadow-lg m-3 md:w-64 bg-gray-300 focus:outline-none'\n      >\n        <div className='inline-block p-3  text-2xl'>{nombre}</div>\n        <div className='flex mr-3'>\n          {!contadorSector ? <Spinner /> : <GhostTotal contador={contador} />}\n        </div>\n      </button>\n      {showModal ? (\n        <div className='flex'>\n          <SubSectorModal\n            setShowModal={() => setShowModal()}\n            subsectores={subsectores}\n            sector={nombre}\n          />\n        </div>\n      ) : null}\n    </Fragment>\n  );\n};\n\nexport default SectorCard;\n"]},"metadata":{},"sourceType":"module"}