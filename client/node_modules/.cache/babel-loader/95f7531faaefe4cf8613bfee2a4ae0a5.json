{"ast":null,"code":"import _defineProperty from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/authContext';import AlertContext from'../../context/alert/alertContext';var Login=function Login(){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors;useEffect(function(){if(error==='Invalid Credentials'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error]);var _useState=useState({userName:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var userName=user.userName,password=user.password;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(userName===''||password===''){setAlert('Por favor complete todos los campos','danger');}else{login({userName:userName,password:password});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"userName\",className:\"block\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-gray-700\"},\"Usuario\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-input mt-1 block w-full\",type:\"text\",name:\"userName\",value:userName,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\",className:\"block\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-gray-700\"},\"Contrase\\xF1a\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-input mt-1 block w-full\",type:\"password\",name:\"password\",value:password,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"input\",{className:\"block bg-blue-500 text-white rounded focus:outline-none p-3 mt-2 active:bg-gray-500 focus:shadow-outline hover:bg-blue-300\",type:\"submit\",value:\"Entrar\",required:true})));};export default Login;","map":{"version":3,"sources":["/Users/eyallevyg/developer/ghost_climber/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","Login","alertContext","authContext","setAlert","login","error","clearErrors","userName","password","user","setUser","onChange","e","target","name","value","onSubmit","preventDefault"],"mappings":"mfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,YAAY,CAAGL,UAAU,CAACG,YAAD,CAA/B,CACA,GAAMG,CAAAA,WAAW,CAAGN,UAAU,CAACE,WAAD,CAA9B,CAFkB,GAIVK,CAAAA,QAJU,CAIGF,YAJH,CAIVE,QAJU,IAMVC,CAAAA,KANU,CAMoBF,WANpB,CAMVE,KANU,CAMHC,KANG,CAMoBH,WANpB,CAMHG,KANG,CAMIC,WANJ,CAMoBJ,WANpB,CAMII,WANJ,CAQlBT,SAAS,CAAC,UAAM,CACd,GAAIQ,KAAK,GAAK,qBAAd,CAAqC,CACnCF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACZ,CACD;AACD,CANQ,CAMN,CAACD,KAAD,CANM,CAAT,CARkB,cAgBMV,QAAQ,CAAC,CAC/BY,QAAQ,CAAE,EADqB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CAhBd,wCAgBXC,IAhBW,eAgBLC,OAhBK,kBAqBVH,CAAAA,QArBU,CAqBaE,IArBb,CAqBVF,QArBU,CAqBAC,QArBA,CAqBaC,IArBb,CAqBAD,QArBA,CAuBlB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,QAAOF,CAAAA,OAAO,gCAAMD,IAAN,wBAAaG,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAd,EAAjB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACJ,CAAD,CAAO,CACtBA,CAAC,CAACK,cAAF,GACA,GAAIV,QAAQ,GAAK,EAAb,EAAmBC,QAAQ,GAAK,EAApC,CAAwC,CACtCL,QAAQ,CAAC,qCAAD,CAAwC,QAAxC,CAAR,CACD,CAFD,IAEO,CACLC,KAAK,CAAC,CACJG,QAAQ,CAARA,QADI,CAEJC,QAAQ,CAARA,QAFI,CAAD,CAAL,CAID,CACF,CAVD,CAYA,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,4BAAM,QAAQ,CAAEQ,QAAhB,eACE,6BAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,OAApC,eACE,4BAAM,SAAS,CAAC,eAAhB,YADF,cAEE,6BACE,SAAS,CAAC,8BADZ,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAET,QAJT,CAKE,QAAQ,CAAEI,QALZ,CAME,QAAQ,KANV,EAFF,CADF,cAaE,6BAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,OAApC,eACE,4BAAM,SAAS,CAAC,eAAhB,kBADF,cAEE,6BACE,SAAS,CAAC,8BADZ,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAEH,QAJT,CAKE,QAAQ,CAAEG,QALZ,CAME,QAAQ,KANV,EAFF,CAbF,cAwBE,6BACE,SAAS,CAAC,4HADZ,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,QAHR,CAIE,QAAQ,KAJV,EAxBF,CADF,CADF,CAmCD,CAxED,CA0EA,cAAeX,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alert/alertContext';\n\nconst Login = () => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n\n  const { setAlert } = alertContext;\n\n  const { login, error, clearErrors } = authContext;\n\n  useEffect(() => {\n    if (error === 'Invalid Credentials') {\n      setAlert(error, 'danger');\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error]);\n\n  const [user, setUser] = useState({\n    userName: '',\n    password: '',\n  });\n\n  const { userName, password } = user;\n\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (userName === '' || password === '') {\n      setAlert('Por favor complete todos los campos', 'danger');\n    } else {\n      login({\n        userName,\n        password,\n      });\n    }\n  };\n\n  return (\n    <div className='container'>\n      <form onSubmit={onSubmit}>\n        <label htmlFor='userName' className='block'>\n          <span className='text-gray-700'>Usuario</span>\n          <input\n            className='form-input mt-1 block w-full'\n            type='text'\n            name='userName'\n            value={userName}\n            onChange={onChange}\n            required\n          />\n        </label>\n\n        <label htmlFor='password' className='block'>\n          <span className='text-gray-700'>Contrase√±a</span>\n          <input\n            className='form-input mt-1 block w-full'\n            type='password'\n            name='password'\n            value={password}\n            onChange={onChange}\n            required\n          />\n        </label>\n        <input\n          className='block bg-blue-500 text-white rounded focus:outline-none p-3 mt-2 active:bg-gray-500 focus:shadow-outline hover:bg-blue-300'\n          type='submit'\n          value='Entrar'\n          required\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}