{"ast":null,"code":"import _slicedToArray from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useContext}from'react';import SubSectorModal from'../zonas/SubSectorModal';import GhostTotal from'../batches/GhostTotal';import ContadoresContext from'../../context/contadores/contadoresContext';import Spinner from'../layout/Spinner';import sameDay from'../../utils/sameDay';var SectorCard=function SectorCard(_ref){var sector=_ref.sector;var nombre=sector.nombre,subsectores=sector.subsectores;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],_setShowModal=_useState2[1];// Contadores states\nvar contadoresContext=useContext(ContadoresContext);var contadorSectorDay=contadoresContext.contadorSectorDay,thisFecha=contadoresContext.thisFecha;// const [contador, setContador] = useState(0);\nvar setContador=function setContador(contadorSectorDay,thisFecha,sectorId){var cont=contadorSectorDay.filter(function(cS){return cS._id.sector===sectorId&&sameDay(cS.fecha,thisFecha);});if(cont.length>0){return cont[0].contador;}else{return 0;}};var contador;if(contadorSectorDay){contador=setContador(contadorSectorDay,thisFecha,sector._id);}return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _setShowModal(true);},className:\"inline-block flex justify-between  items-stretch md:items-center rounded shadow-lg m-3 md:w-64 bg-gray-300 focus:outline-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inline-block p-3  text-2xl\"},nombre),/*#__PURE__*/React.createElement(\"div\",{className:\"flex mr-3\"},!contadorSectorDay?/*#__PURE__*/React.createElement(Spinner,null):/*#__PURE__*/React.createElement(GhostTotal,{contador:contador}))),showModal?/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(SubSectorModal,{setShowModal:function setShowModal(){return _setShowModal();},subsectores:subsectores,sector:nombre})):null);};export default SectorCard;","map":{"version":3,"sources":["/Users/eyallevyg/developer/ghost_climber/client/src/components/zonas/SectorCard.js"],"names":["React","useState","Fragment","useContext","SubSectorModal","GhostTotal","ContadoresContext","Spinner","sameDay","SectorCard","sector","nombre","subsectores","showModal","setShowModal","contadoresContext","contadorSectorDay","thisFecha","setContador","sectorId","cont","filter","cS","_id","fecha","length","contador"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,UAApC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,4CAA9B,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,IACzBC,CAAAA,MADyB,CACDD,MADC,CACzBC,MADyB,CACjBC,WADiB,CACDF,MADC,CACjBE,WADiB,eAECX,QAAQ,CAAC,KAAD,CAFT,wCAE1BY,SAF0B,eAEfC,aAFe,eAIjC;AACA,GAAMC,CAAAA,iBAAiB,CAAGZ,UAAU,CAACG,iBAAD,CAApC,CALiC,GAMzBU,CAAAA,iBANyB,CAMQD,iBANR,CAMzBC,iBANyB,CAMNC,SANM,CAMQF,iBANR,CAMNE,SANM,CAQjC;AAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACF,iBAAD,CAAoBC,SAApB,CAA+BE,QAA/B,CAA4C,CAC9D,GAAMC,CAAAA,IAAI,CAAGJ,iBAAiB,CAACK,MAAlB,CACX,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACC,GAAH,CAAOb,MAAP,GAAkBS,QAAlB,EAA8BX,OAAO,CAACc,EAAE,CAACE,KAAJ,CAAWP,SAAX,CAA7C,EADW,CAAb,CAGA,GAAIG,IAAI,CAACK,MAAL,CAAc,CAAlB,CAAqB,CACnB,MAAOL,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQM,QAAf,CACD,CAFD,IAEO,CACL,MAAO,EAAP,CACD,CACF,CATD,CAWA,GAAIA,CAAAA,QAAJ,CACA,GAAIV,iBAAJ,CAAuB,CACrBU,QAAQ,CAAGR,WAAW,CAACF,iBAAD,CAAoBC,SAApB,CAA+BP,MAAM,CAACa,GAAtC,CAAtB,CACD,CAED,mBACE,oBAAC,QAAD,mBACE,8BACE,OAAO,CAAE,yBAAMT,CAAAA,aAAY,CAAC,IAAD,CAAlB,EADX,CAEE,SAAS,CAAC,+HAFZ,eAIE,2BAAK,SAAS,CAAC,4BAAf,EAA6CH,MAA7C,CAJF,cAKE,2BAAK,SAAS,CAAC,WAAf,EACG,CAACK,iBAAD,cACC,oBAAC,OAAD,MADD,cAGC,oBAAC,UAAD,EAAY,QAAQ,CAAEU,QAAtB,EAJJ,CALF,CADF,CAcGb,SAAS,cACR,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,cAAD,EACE,YAAY,CAAE,8BAAMC,CAAAA,aAAY,EAAlB,EADhB,CAEE,WAAW,CAAEF,WAFf,CAGE,MAAM,CAAED,MAHV,EADF,CADQ,CAQN,IAtBN,CADF,CA0BD,CApDD,CAsDA,cAAeF,CAAAA,UAAf","sourcesContent":["import React, { useState, Fragment, useContext } from 'react';\nimport SubSectorModal from '../zonas/SubSectorModal';\nimport GhostTotal from '../batches/GhostTotal';\nimport ContadoresContext from '../../context/contadores/contadoresContext';\nimport Spinner from '../layout/Spinner';\nimport sameDay from '../../utils/sameDay';\n\nconst SectorCard = ({ sector }) => {\n  const { nombre, subsectores } = sector;\n  const [showModal, setShowModal] = useState(false);\n\n  // Contadores states\n  const contadoresContext = useContext(ContadoresContext);\n  const { contadorSectorDay, thisFecha } = contadoresContext;\n\n  // const [contador, setContador] = useState(0);\n\n  const setContador = (contadorSectorDay, thisFecha, sectorId) => {\n    const cont = contadorSectorDay.filter(\n      (cS) => cS._id.sector === sectorId && sameDay(cS.fecha, thisFecha)\n    );\n    if (cont.length > 0) {\n      return cont[0].contador;\n    } else {\n      return 0;\n    }\n  };\n\n  let contador;\n  if (contadorSectorDay) {\n    contador = setContador(contadorSectorDay, thisFecha, sector._id);\n  }\n\n  return (\n    <Fragment>\n      <button\n        onClick={() => setShowModal(true)}\n        className='inline-block flex justify-between  items-stretch md:items-center rounded shadow-lg m-3 md:w-64 bg-gray-300 focus:outline-none'\n      >\n        <div className='inline-block p-3  text-2xl'>{nombre}</div>\n        <div className='flex mr-3'>\n          {!contadorSectorDay ? (\n            <Spinner />\n          ) : (\n            <GhostTotal contador={contador} />\n          )}\n        </div>\n      </button>\n      {showModal ? (\n        <div className='flex'>\n          <SubSectorModal\n            setShowModal={() => setShowModal()}\n            subsectores={subsectores}\n            sector={nombre}\n          />\n        </div>\n      ) : null}\n    </Fragment>\n  );\n};\n\nexport default SectorCard;\n"]},"metadata":{},"sourceType":"module"}