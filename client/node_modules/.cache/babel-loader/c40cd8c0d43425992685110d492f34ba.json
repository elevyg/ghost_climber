{"ast":null,"code":"import _slicedToArray from\"/Users/eyallevyg/developer/ghost_climber/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useContext}from'react';import SubSectorModal from'../zonas/SubSectorModal';import GhostTotal from'../batches/GhostTotal';import ContadoresContext from'../../context/contadores/contadoresContext';import Spinner from'../layout/Spinner';var SectorCard=function SectorCard(_ref){var sector=_ref.sector;var nombre=sector.nombre,subsectores=sector.subsectores;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],_setShowModal=_useState2[1];// Contadores states\nvar contadoresContext=useContext(ContadoresContext);var contadorSectorDay=contadoresContext.contadorSectorDay,loading=contadoresContext.loading;var contador;if(contadorSectorDay){var cont=contadorSectorDay.filter(function(cS){return cS._id.sector===sector._id;});if(cont.length>0){contador=cont[0].contador;}else{contador=0;}}return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _setShowModal(true);},className:\"inline-block flex justify-between  items-stretch md:items-center rounded shadow-lg m-3 md:w-64 bg-gray-300 focus:outline-none\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inline-block p-3  text-2xl\"},nombre),/*#__PURE__*/React.createElement(\"div\",{className:\"flex mr-3\"},loading?/*#__PURE__*/React.createElement(Spinner,null):/*#__PURE__*/React.createElement(GhostTotal,{contador:contador}))),showModal?/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(SubSectorModal,{setShowModal:function setShowModal(){return _setShowModal();},subsectores:subsectores,sector:nombre})):null);};export default SectorCard;","map":{"version":3,"sources":["/Users/eyallevyg/developer/ghost_climber/client/src/components/zonas/SectorCard.js"],"names":["React","useState","Fragment","useContext","SubSectorModal","GhostTotal","ContadoresContext","Spinner","SectorCard","sector","nombre","subsectores","showModal","setShowModal","contadoresContext","contadorSectorDay","loading","contador","cont","filter","cS","_id","length"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,UAApC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,4CAA9B,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,IACzBC,CAAAA,MADyB,CACDD,MADC,CACzBC,MADyB,CACjBC,WADiB,CACDF,MADC,CACjBE,WADiB,eAECV,QAAQ,CAAC,KAAD,CAFT,wCAE1BW,SAF0B,eAEfC,aAFe,eAIjC;AACA,GAAMC,CAAAA,iBAAiB,CAAGX,UAAU,CAACG,iBAAD,CAApC,CALiC,GAMzBS,CAAAA,iBANyB,CAMMD,iBANN,CAMzBC,iBANyB,CAMNC,OANM,CAMMF,iBANN,CAMNE,OANM,CAQjC,GAAIC,CAAAA,QAAJ,CACA,GAAIF,iBAAJ,CAAuB,CACrB,GAAMG,CAAAA,IAAI,CAAGH,iBAAiB,CAACI,MAAlB,CAAyB,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACC,GAAH,CAAOZ,MAAP,GAAkBA,MAAM,CAACY,GAAjC,EAAzB,CAAb,CACA,GAAIH,IAAI,CAACI,MAAL,CAAc,CAAlB,CAAqB,CACnBL,QAAQ,CAAGC,IAAI,CAAC,CAAD,CAAJ,CAAQD,QAAnB,CACD,CAFD,IAEO,CACLA,QAAQ,CAAG,CAAX,CACD,CACF,CAED,mBACE,oBAAC,QAAD,mBACE,8BACE,OAAO,CAAE,yBAAMJ,CAAAA,aAAY,CAAC,IAAD,CAAlB,EADX,CAEE,SAAS,CAAC,+HAFZ,eAIE,2BAAK,SAAS,CAAC,4BAAf,EAA6CH,MAA7C,CAJF,cAKE,2BAAK,SAAS,CAAC,WAAf,EACGM,OAAO,cAAG,oBAAC,OAAD,MAAH,cAAiB,oBAAC,UAAD,EAAY,QAAQ,CAAEC,QAAtB,EAD3B,CALF,CADF,CAUGL,SAAS,cACR,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,cAAD,EACE,YAAY,CAAE,8BAAMC,CAAAA,aAAY,EAAlB,EADhB,CAEE,WAAW,CAAEF,WAFf,CAGE,MAAM,CAAED,MAHV,EADF,CADQ,CAQN,IAlBN,CADF,CAsBD,CAxCD,CA0CA,cAAeF,CAAAA,UAAf","sourcesContent":["import React, { useState, Fragment, useContext } from 'react';\nimport SubSectorModal from '../zonas/SubSectorModal';\nimport GhostTotal from '../batches/GhostTotal';\nimport ContadoresContext from '../../context/contadores/contadoresContext';\nimport Spinner from '../layout/Spinner';\n\nconst SectorCard = ({ sector }) => {\n  const { nombre, subsectores } = sector;\n  const [showModal, setShowModal] = useState(false);\n\n  // Contadores states\n  const contadoresContext = useContext(ContadoresContext);\n  const { contadorSectorDay, loading } = contadoresContext;\n\n  let contador;\n  if (contadorSectorDay) {\n    const cont = contadorSectorDay.filter((cS) => cS._id.sector === sector._id);\n    if (cont.length > 0) {\n      contador = cont[0].contador;\n    } else {\n      contador = 0;\n    }\n  }\n\n  return (\n    <Fragment>\n      <button\n        onClick={() => setShowModal(true)}\n        className='inline-block flex justify-between  items-stretch md:items-center rounded shadow-lg m-3 md:w-64 bg-gray-300 focus:outline-none'\n      >\n        <div className='inline-block p-3  text-2xl'>{nombre}</div>\n        <div className='flex mr-3'>\n          {loading ? <Spinner /> : <GhostTotal contador={contador} />}\n        </div>\n      </button>\n      {showModal ? (\n        <div className='flex'>\n          <SubSectorModal\n            setShowModal={() => setShowModal()}\n            subsectores={subsectores}\n            sector={nombre}\n          />\n        </div>\n      ) : null}\n    </Fragment>\n  );\n};\n\nexport default SectorCard;\n"]},"metadata":{},"sourceType":"module"}